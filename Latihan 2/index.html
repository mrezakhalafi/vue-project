<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue Beginners.</title>
</head>
<style>
    body{
        margin: 5%;
        font-family: 'Quicksand', sans-serif;
    }

    .active{
        background: salmon;
        padding: 5px;
        border: 0;
    }
</style>
<body>

<div id="app">
    
    <header-component nama="Vue JS New" images="../Latihan 1/image/logo.png"></header-component>

    <nav>
        <router-link to="/">Home</router-link>
        <router-link to="/About">About</router-link>
        <router-link to="/Kelas">Kelas</router-link>
    </nav>

    <!-- <class-component :items="kelas" v-on:hapuskelas="hapuskelas" v-on:inputkelas="inputkelas"></class-component> -->
    <!-- <home></home> -->
    <router-view :items="kelas" v-on:hapuskelas="hapuskelas" v-on:inputkelas="inputkelas"></router-view>

    <footer-component><p>Copyright 2023</p></footer-component>
    
</div>
    
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.0"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/2.8.1/vue-router.js"></script> 
<script>

    const Home = {
        template: `<div>Home</div>`
    }

    const About = {
        template: `<div>About</div>`
    }

    const Kelas = {
        props: ['items','input'],
        template: `
        <main>
            <h3>Tambah Kelas.</h3>
            <input v-on:keyup.enter="$emit('inputkelas', $event)" v-model="input">
            <hr>
            <h3>Daftar Kelas ({{ items.length }})</h3>
            <template v-show="items.length">
                <ul>
                    <li v-for="(item,index) of items">{{ index+1 }} - {{ item.judul }}
                        <a href="" v-on:click.prevent="$emit('hapuskelas', item.id)">Hapus</a>
                    </li>
                </ul>
                <li v-else>Data tidak ditemukan</li>
            </template>
        </main>`,
        data: function(){
            return{

            }
        },
        methods: {
        }
    }

    const routes = [
        {path: '/' , component: Home},
        {path: '/about' , component: About},
        {path: '/kelas' , component: Kelas}
    ]

    const router = new VueRouter({
        mode: 'history',
        routes
    });

    Vue.component('header-component',{
        props: ['nama','images'],
        template: `    
        <header id="header">
            <img :src="images" width="80">
            <p><h1 v-text="name"></h1></p>
            <p>Hello {{ nama }}</p>
        </header>`,
        data: function(){
            return{
                pesan: "Hello Component"
            }
        }
    });

    Vue.component('class-component',{
        
    })

    Vue.component('footer-component',{
        template: `
        <footer id="footer">
            <slot></slot>
        </footer>`
    })

    const vm = new Vue({
        el: '#app',
        router,
        components: {
            'home' : Home
        },
        data: {
            kelas: [
                {id: 1, judul: 'Vue JS', deskripsi: 'Deskripsi 1', gambar: 'https://positivethinking.tech/wp-content/uploads/2021/01/Logo-Vuejs.png'},
                {id: 2, judul: 'React JS', deskripsi: 'Deskripsi 2', gambar: 'https://www.datocms-assets.com/45470/1631110818-logo-react-js.png'},
                {id: 3, judul: 'Angular JS', deskripsi: 'Deskripsi 3', gambar: 'https://s3-ap-south-1.amazonaws.com/trt-blog-ghost/2023/01/AngularJS.png'}
            ],
            kelasBaru: ""
        },
        methods: {
           hapuskelas: function(id){
                this.kelas = this.kelas.filter(item => item.id != id);
           },
           inputkelas: function(event){
            let text = event.target.value;
                this.kelas.push(text);
                event.target.value = "";
           }
        },
        computed: {
        }
    });

</script>
</body>
</html>